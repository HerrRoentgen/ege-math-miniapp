<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª–µ–Ω–¥–∞—Ä—å –æ–±—É—á–µ–Ω–∏—è - –ï–ì–≠ –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
            line-height: 1.4;
            padding-bottom: 70px;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 16px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 16px;
            border-radius: 16px;
            margin-bottom: 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .header .subtitle {
            opacity: 0.9;
            font-size: 14px;
        }

        .progress-overview {
            background: var(--tg-theme-secondary-bg-color, #f8f9fa);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 20px;
            border: 1px solid var(--tg-theme-hint-color, #e9ecef);
        }

        .progress-stats {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 12px;
            margin-bottom: 16px;
        }

        .progress-stat {
            text-align: center;
            padding: 12px;
            background: white;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .progress-number {
            font-size: 18px;
            font-weight: 700;
            color: #667eea;
            display: block;
        }

        .progress-label {
            font-size: 11px;
            color: #6c757d;
            margin-top: 4px;
        }

        .progress-bar {
            background: #e9ecef;
            border-radius: 8px;
            height: 8px;
            margin: 8px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4CAF50, #45a049);
            height: 100%;
            border-radius: 8px;
            transition: width 0.3s ease;
        }

        .stage-section {
            margin-bottom: 24px;
        }

        .stage-header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .stage-header.stage-2 {
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
        }

        .stage-header.stage-3 {
            background: linear-gradient(135deg, #f093fb, #f5576c);
        }

        .stage-header:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .stage-title {
            font-size: 16px;
            font-weight: 600;
        }

        .stage-subtitle {
            font-size: 13px;
            opacity: 0.9;
            margin-top: 4px;
        }

        .stage-progress {
            text-align: right;
            font-size: 14px;
        }

        .stage-expand-icon {
            font-size: 18px;
            transition: transform 0.3s ease;
        }

        .stage-collapsed .stage-expand-icon {
            transform: rotate(-90deg);
        }

        .weeks-list {
            display: grid;
            gap: 12px;
            margin-top: 16px;
            transition: all 0.3s ease;
        }

        .stage-collapsed .weeks-list {
            display: none;
        }

        .week-item {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 16px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .week-item:hover {
            border-color: #667eea;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.1);
        }

        .week-item.completed {
            border-left: 5px solid #28a745;
            background: linear-gradient(90deg, #f8fff9, #ffffff);
        }

        .week-item.current {
            border-left: 5px solid #ff6b6b;
            background: linear-gradient(90deg, #fff8f8, #ffffff);
            box-shadow: 0 2px 12px rgba(255, 107, 107, 0.2);
        }

        .week-item.locked {
            opacity: 0.6;
            border-left: 5px solid #6c757d;
            background: #f8f9fa;
            cursor: not-allowed;
        }

        .week-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .week-number {
            font-size: 14px;
            font-weight: 700;
            color: #667eea;
        }

        .week-status {
            font-size: 18px;
        }

        .week-title {
            font-size: 15px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .week-lessons {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 12px;
        }

        .lesson-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #e9ecef;
            transition: all 0.3s ease;
        }

        .lesson-dot.completed {
            background: #28a745;
        }

        .lesson-dot.current {
            background: #ff6b6b;
            animation: pulse 2s infinite;
        }

        .week-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: #6c757d;
        }

        .week-score {
            font-weight: 500;
        }

        .week-type {
            background: #e3f2fd;
            color: #1976d2;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 500;
        }

        .week-type.control {
            background: #fff3e0;
            color: #f57c00;
        }

        .week-type.diagnostic {
            background: #f3e5f5;
            color: #7b1fa2;
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--tg-theme-bg-color, white);
            border-top: 1px solid var(--tg-theme-hint-color, #e9ecef);
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: var(--tg-theme-hint-color, #6c757d);
            font-size: 12px;
            transition: color 0.3s ease;
        }

        .nav-item.active {
            color: var(--tg-theme-button-color, #667eea);
        }

        .nav-icon {
            font-size: 20px;
            margin-bottom: 4px;
        }

        .filter-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 4px;
        }

        .filter-tab {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            color: #6c757d;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .filter-tab.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .search-box {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 16px;
            font-size: 14px;
            width: 100%;
        }

        .search-box:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.2);
        }

        @media (max-width: 480px) {
            .container {
                padding: 12px;
            }
            
            .progress-stats {
                grid-template-columns: 1fr 1fr;
                gap: 8px;
            }

            .week-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .week-status {
                position: absolute;
                top: 16px;
                right: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="header">
            <h1>üìÖ –ü–ª–∞–Ω –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏</h1>
            <div class="subtitle">47 –Ω–µ–¥–µ–ª—å –¥–æ —É—Å–ø–µ—Ö–∞</div>
        </div>

        <!-- –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å -->
        <div class="progress-overview">
            <div class="progress-stats">
                <div class="progress-stat">
                    <span class="progress-number">15</span>
                    <div class="progress-label">—Ç–µ–∫—É—â–∞—è –Ω–µ–¥–µ–ª—è</div>
                </div>
                <div class="progress-stat">
                    <span class="progress-number">14</span>
                    <div class="progress-label">–∑–∞–≤–µ—Ä—à–µ–Ω–æ</div>
                </div>
                <div class="progress-stat">
                    <span class="progress-number">32</span>
                    <div class="progress-label">–±—É–¥—É—â–∏—Ö</div>
                </div>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                <span style="font-size: 14px; font-weight: 600;">–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å</span>
                <span style="font-weight: 600; color: #667eea;">32%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 32%;"></div>
            </div>
        </div>

        <!-- –§–∏–ª—å—Ç—Ä—ã -->
        <div class="filter-tabs">
            <button class="filter-tab active" onclick="filterWeeks('all')">–í—Å–µ —ç—Ç–∞–ø—ã</button>
            <button class="filter-tab" onclick="filterWeeks('stage1')">–ë–∞–∑–æ–≤–∞—è</button>
            <button class="filter-tab" onclick="filterWeeks('stage2')">–£–≥–ª—É–±–ª–µ–Ω–Ω–∞—è</button>
            <button class="filter-tab" onclick="filterWeeks('stage3')">–§–∏–Ω–∞–ª—å–Ω–∞—è</button>
            <button class="filter-tab" onclick="filterWeeks('completed')">–ü—Ä–æ–π–¥–µ–Ω–Ω—ã–µ</button>
            <button class="filter-tab" onclick="filterWeeks('current')">–¢–µ–∫—É—â–∏–µ</button>
        </div>

        <!-- –ü–æ–∏—Å–∫ -->
        <input type="text" class="search-box" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–º–∞–º..." onkeyup="searchWeeks(this.value)">

        <!-- –≠–¢–ê–ü 1: –ë–∞–∑–æ–≤–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ -->
        <div class="stage-section" data-stage="stage1">
            <div class="stage-header" onclick="toggleStage(this)">
                <div>
                    <div class="stage-title">üü¢ –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞</div>
                    <div class="stage-subtitle">–ù–µ–¥–µ–ª–∏ 1-16 ‚Ä¢ –û—Å–Ω–æ–≤—ã –∏ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç</div>
                </div>
                <div>
                    <div class="stage-progress">14/16</div>
                    <div class="stage-expand-icon">‚ñº</div>
                </div>
            </div>
            <div class="weeks-list">
                <!-- –ù–µ–¥–µ–ª–∏ 1-4 -->
                <div class="week-item completed" data-week="1" data-stage="stage1">
                    <div class="week-header">
                        <div class="week-number">–ù–µ–¥–µ–ª—è 1</div>
                        <div class="week-status">‚úÖ</div>
                    </div>
                    <div class="week-title">–ß–∏—Å–ª–∞ –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è</div>
                    <div class="week-lessons">
                        <div class="lesson-dot completed"></div>
                        <div class="lesson-dot completed"></div>
                        <div class="lesson-dot completed"></div>
                    </div>
                    <div class="week-meta">
                        <div class="week-score">–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª: 87</div>
                        <div class="week-type">–±–∞–∑–æ–≤–∞—è</div>
                    </div>
                </div>

                <div class="week-item completed" data-week="2" data-stage="stage1">
                    <div class="week-header">
                        <div class="week-number">–ù–µ–¥–µ–ª—è 2</div>
                        <div class="week-status">‚úÖ</div>
                    </div>
                    <div class="week-title">–£—Ä–∞–≤–Ω–µ–Ω–∏—è (–±–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å)</div>
                    <div class="week-lessons">
                        <div class="lesson-dot completed"></div>
                        <div class="lesson-dot completed"></div>
                        <div class="lesson-dot completed"></div>
                    </div>
                    <div class="week-meta">
                        <div class="week-score">–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª: 92</div>
                        <div class="week-type">–±–∞–∑–æ–≤–∞—è</div>
                    </div>
                </div>

                <div class="week-item completed" data-week="3" data-stage="stage1">
                    <div class="week-header">
                        <div class="week-number">–ù–µ–¥–µ–ª—è 3</div>
                        <div class="week-status">‚úÖ</div>
                    </div>
                    <div class="week-title">–§—É–Ω–∫—Ü–∏–∏</div>
                    <div class="week-lessons">
                        <div class="lesson-dot completed"></div>
                        <div class="lesson-dot completed"></div>
                        <div class="lesson-dot completed"></div>
                    </div>
                    <div class="week-meta">
                        <div class="week-score">–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª: 78</div>
                        <div class="week-type">–±–∞–∑–æ–≤–∞—è</div>
                    </div>
                </div>

                <div class="week-item completed" data-week="4" data-stage="stage1">
                    <div class="week-header">
                        <div class="week-number">–ù–µ–¥–µ–ª—è 4</div>
                        <div class="week-status">‚úÖ</div>
                    </div>
                    <div class="week-title">–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</div>
                    <div class="week-lessons">
                        <div class="lesson-dot completed"></div>
                        <div class="lesson-dot completed"></div>
                        <div class="lesson-dot completed"></div>
                    </div>
                    <div class="week-meta">
                        <div class="week-score">–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏: 84</div>
                        <div class="week-type diagnostic">–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</div>
                    </div>
                </div>

                <!-- –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–¥–µ–ª—å –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏... -->
                <div class="week-item completed" data-week="13" data-stage="stage1">
                    <div class="week-header">
                        <div class="week-number">–ù–µ–¥–µ–ª—è 13</div>
                        <div class="week-status">‚úÖ</div>
                    </div>
                    <div class="week-title">–ü–ª–∞–Ω–∏–º–µ—Ç—Ä–∏—è (–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ)</div>
                    <div class="week-lessons">
                        <div class="lesson-dot completed"></div>
                        <div class="lesson-dot completed"></div>
                        <div class="lesson-dot completed"></div>
                    </div>
                    <div class="week-meta">
                        <div class="week-score">–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª: 89</div>
                        <div class="week-type">–±–∞–∑–æ–≤–∞—è</div>
                    </div>
                </div>

                <div class="week-item completed" data-week="14" data-stage="stage1">
                    <div class="week-header">
                        <div class="week-number">–ù–µ–¥–µ–ª—è 14</div>
                        <div class="week-status">‚úÖ</div>
                    </div>
                    <div class="week-title">–û—Å–Ω–æ–≤—ã —Å—Ç–µ—Ä–µ–æ–º–µ—Ç—Ä–∏–∏</div>
                    <div class="week-lessons">
                        <div class="lesson-dot completed"></div>
                        <div class="lesson-dot completed"></div>
                        <div class="lesson-dot completed"></div>
                    </div>
                    <div class="week-meta">
                        <div class="week-score">–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª: 76</div>
                        <div class="week-type">–±–∞–∑–æ–≤–∞—è</div>
                    </div>
                </div>

                <div class="week-item current" data-week="15" data-stage="stage1">
                    <div class="week-header">
                        <div class="week-number">–ù–µ–¥–µ–ª—è 15</div>
                        <div class="week-status">üéØ</div>
                    </div>
                    <div class="week-title">–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</div>
                    <div class="week-lessons">
                        <div class="lesson-dot completed"></div>
                        <div class="lesson-dot completed"></div>
                        <div class="lesson-dot current"></div>
                    </div>
                    <div class="week-meta">
                        <div class="week-score">–í –ø—Ä–æ—Ü–µ—Å—Å–µ: 2/3 –∑–∞–Ω—è—Ç–∏—è</div>
                        <div class="week-type diagnostic">–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</div>
                    </div>
                </div>

                <div class="week-item locked" data-week="16" data-stage="stage1">
                    <div class="week-header">
                        <div class="week-number">–ù–µ–¥–µ–ª—è 16</div>
                        <div class="week-status">üîí</div>
                    </div>
                    <div class="week-title">–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</div>
                    <div class="week-lessons">
                        <div class="lesson-dot"></div>
                        <div class="lesson-dot"></div>
                        <div class="lesson-dot"></div>
                    </div>
                    <div class="week-meta">
                        <div class="week-score">–û—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ—Å–ª–µ –Ω–µ–¥–µ–ª–∏ 15</div>
                        <div class="week-type control">–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –≠–¢–ê–ü 2: –£–≥–ª—É–±–ª–µ–Ω–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ -->
        <div class="stage-section stage-collapsed" data-stage="stage2">
            <div class="stage-header stage-2" onclick="toggleStage(this)">
                <div>
                    <div class="stage-title">üü° –≠—Ç–∞–ø 2: –£–≥–ª—É–±–ª–µ–Ω–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞</div>
                    <div class="stage-subtitle">–ù–µ–¥–µ–ª–∏ 17-33 ‚Ä¢ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ–º—ã</div>
                </div>
                <div>
                    <div class="stage-progress">0/17</div>
                    <div class="stage-expand-icon">‚ñº</div>
                </div>
            </div>
            <div class="weeks-list">
                <div class="week-item locked" data-week="17" data-stage="stage2">
                    <div class="week-header">
                        <div class="week-number">–ù–µ–¥–µ–ª—è 17</div>
                        <div class="week-status">üîí</div>
                    </div>
                    <div class="week-title">–ü—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è –∏ –µ—ë –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</div>
                    <div class="week-lessons">
                        <div class="lesson-dot"></div>
                        <div class="lesson-dot"></div>
                        <div class="lesson-dot"></div>
                    </div>
                    <div class="week-meta">
                        <div class="week-score">–û—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ—Å–ª–µ —ç—Ç–∞–ø–∞ 1</div>
                        <div class="week-type">—É–≥–ª—É–±–ª–µ–Ω–Ω–∞—è</div>
                    </div>
                </div>

                <div class="week-item locked" data-week="18" data-stage="stage2">
                    <div class="week-header">
                        <div class="week-number">–ù–µ–¥–µ–ª—è 18</div>
                        <div class="week-status">üîí</div>
                    </div>
                    <div class="week-title">–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π</div>
                    <div class="week-lessons">
                        <div class="lesson-dot"></div>
                        <div class="lesson-dot"></div>
                        <div class="lesson-dot"></div>
                    </div>
                    <div class="week-meta">
                        <div class="week-score">–û—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ—Å–ª–µ —ç—Ç–∞–ø–∞ 1</div>
                        <div class="week-type">—É–≥–ª—É–±–ª–µ–Ω–Ω–∞—è</div>
                    </div>
                </div>

                <!-- –î–æ–±–∞–≤–∏–º –µ—â–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–¥–µ–ª—å –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ -->
                <div class="week-item locked" data-week="21" data-stage="stage2">
                    <div class="week-header">
                        <div class="week-number">–ù–µ–¥–µ–ª—è 21</div>
                        <div class="week-status">üîí</div>
                    </div>
                    <div class="week-title">–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</div>
                    <div class="week-lessons">
                        <div class="lesson-dot"></div>
                        <div class="lesson-dot"></div>
                        <div class="lesson-dot"></div>
                    </div>
                    <div class="week-meta">
                        <div class="week-score">–û—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ—Å–ª–µ —ç—Ç–∞–ø–∞ 1</div>
                        <div class="week-type control">–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –≠–¢–ê–ü 3: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ -->
        <div class="stage-section stage-collapsed" data-stage="stage3">
            <div class="stage-header stage-3" onclick="toggleStage(this)">
                <div>
                    <div class="stage-title">üî¥ –≠—Ç–∞–ø 3: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞</div>
                    <div class="stage-subtitle">–ù–µ–¥–µ–ª–∏ 34-47 ‚Ä¢ –í—ã—Å–æ–∫–∏–µ –±–∞–ª–ª—ã</div>
                </div>
                <div>
                    <div class="stage-progress">0/14</div>
                    <div class="stage-expand-icon">‚ñº</div>
                </div>
            </div>
            <div class="weeks-list">
                <div class="week-item locked" data-week="43" data-stage="stage3">
                    <div class="week-header">
                        <div class="week-number">–ù–µ–¥–µ–ª—è 43</div>
                        <div class="week-status">üîí</div>
                    </div>
                    <div class="week-title">–í—ã—Å–æ–∫–æ–±–∞–ª–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è (16-18)</div>
                    <div class="week-lessons">
                        <div class="lesson-dot"></div>
                        <div class="lesson-dot"></div>
                        <div class="lesson-dot"></div>
                    </div>
                    <div class="week-meta">
                        <div class="week-score">–û—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ—Å–ª–µ —ç—Ç–∞–ø–∞ 2</div>
                        <div class="week-type">—Ñ–∏–Ω–∞–ª—å–Ω–∞—è</div>
                    </div>
                </div>

                <div class="week-item locked" data-week="47" data-stage="stage3">
                    <div class="week-header">
                        <div class="week-number">–ù–µ–¥–µ–ª—è 47</div>
                        <div class="week-status">üîí</div>
                    </div>
                    <div class="week-title">–§–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞</div>
                    <div class="week-lessons">
                        <div class="lesson-dot"></div>
                        <div class="lesson-dot"></div>
                    </div>
                    <div class="week-meta">
                        <div class="week-score">–ü–æ—Å–ª–µ–¥–Ω—è—è –Ω–µ–¥–µ–ª—è –ø–µ—Ä–µ–¥ –ï–ì–≠</div>
                        <div class="week-type">—Ñ–∏–Ω–∞–ª—å–Ω–∞—è</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="bottom-nav">
        <a href="index.html" class="nav-item">
            <div class="nav-icon">üè†</div>
            <div>–ì–ª–∞–≤–Ω–∞—è</div>
        </a>
        <a href="#" class="nav-item active">
            <div class="nav-icon">üìñ</div>
            <div>–û–±—É—á–µ–Ω–∏–µ</div>
        </a>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        if (window.Telegram && window.Telegram.WebApp) {
            const tg = window.Telegram.WebApp;
            tg.ready();
            tg.expand();
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã
            document.body.style.backgroundColor = tg.themeParams.bg_color || '#ffffff';
            document.body.style.color = tg.themeParams.text_color || '#000000';
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —ç—Ç–∞–ø–æ–≤ (—Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ)
        function toggleStage(header) {
            const stageSection = header.parentElement;
            stageSection.classList.toggle('stage-collapsed');
        }

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ–¥–µ–ª—å
        function filterWeeks(filter) {
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            document.querySelectorAll('.filter-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');

            // –§–∏–ª—å—Ç—Ä—É–µ–º –Ω–µ–¥–µ–ª–∏
            const weeks = document.querySelectorAll('.week-item');
            const stages = document.querySelectorAll('.stage-section');

            // –°–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –Ω–µ–¥–µ–ª–∏
            weeks.forEach(week => week.style.display = 'block');
            stages.forEach(stage => stage.style.display = 'block');

            if (filter !== 'all') {
                weeks.forEach(week => {
                    let show = false;
                    
                    switch(filter) {
                        case 'stage1':
                        case 'stage2':  
                        case 'stage3':
                            show = week.dataset.stage === filter;
                            break;
                        case 'completed':
                            show = week.classList.contains('completed');
                            break;
                        case 'current':
                            show = week.classList.contains('current');
                            break;
                    }

                    week.style.display = show ? 'block' : 'none';
                });

                // –°–∫—Ä—ã–≤–∞–µ–º –ø—É—Å—Ç—ã–µ —ç—Ç–∞–ø—ã
                stages.forEach(stage => {
                    const visibleWeeks = stage.querySelectorAll('.week-item[style="display: block;"], .week-item:not([style*="display: none"])');
                    if (filter.startsWith('stage') && stage.dataset.stage !== filter) {
                        stage.style.display = 'none';
                    } else if (!filter.startsWith('stage') && visibleWeeks.length === 0) {
                        stage.style.display = 'none';
                    }
                });
            }
        }

        // –ü–æ–∏—Å–∫ –ø–æ –Ω–µ–¥–µ–ª—è–º
        function searchWeeks(query) {
            const weeks = document.querySelectorAll('.week-item');
            const stages = document.querySelectorAll('.stage-section');
            
            if (!query.trim()) {
                weeks.forEach(week => week.style.display = 'block');
                stages.forEach(stage => stage.style.display = 'block');
                return;
            }

            const searchLower = query.toLowerCase();
            
            weeks.forEach(week => {
                const title = week.querySelector('.week-title').textContent.toLowerCase();
                const weekNumber = week.querySelector('.week-number').textContent.toLowerCase();
                
                const matches = title.includes(searchLower) || weekNumber.includes(searchLower);
                week.style.display = matches ? 'block' : 'none';
            });

            // –°–∫—Ä—ã–≤–∞–µ–º —ç—Ç–∞–ø—ã –±–µ–∑ –≤–∏–¥–∏–º—ã—Ö –Ω–µ–¥–µ–ª—å
            stages.forEach(stage => {
                const visibleWeeks = stage.querySelectorAll('.week-item[style="display: block;"], .week-item:not([style*="display: none"])');
                stage.style.display = visibleWeeks.length > 0 ? 'block' : 'none';
            });
        }

        // –ö–ª–∏–∫ –ø–æ –Ω–µ–¥–µ–ª–µ - –ø–µ—Ä–µ—Ö–æ–¥ –∫ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
document.querySelectorAll('.week-item').forEach(week => {
    week.addEventListener('click', function() {
        if (this.classList.contains('locked')) {
            if (window.Telegram && window.Telegram.WebApp) {
                window.Telegram.WebApp.showAlert('–≠—Ç–∞ –Ω–µ–¥–µ–ª—è –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö');
            } else {
                alert('–≠—Ç–∞ –Ω–µ–¥–µ–ª—è –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö');
            }
            return;
        }

        const weekNumber = this.dataset.week;
        
        // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–µ–¥–µ–ª–∏
        window.location.href = `week.html?week=${weekNumber}`;
    });
});

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —ç—Ç–∞–ø –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            const currentWeek = document.querySelector('.week-item.current');
            if (currentWeek) {
                const currentStage = currentWeek.closest('.stage-section');
                if (currentStage && currentStage.classList.contains('stage-collapsed')) {
                    currentStage.classList.remove('stage-collapsed');
                }
            }
        });

        // –î–µ–º–æ: –∏–º–∏—Ç–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        let weekProgress = 15;
        setInterval(() => {
            // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–π –Ω–µ–¥–µ–ª–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            document.querySelector('.progress-stat .progress-number').textContent = weekProgress;
            weekProgress = weekProgress >= 47 ? 1 : weekProgress + 1;
        }, 5000);
    </script>
</body>
</html>
